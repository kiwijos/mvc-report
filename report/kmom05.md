# kmom05
### Gick det bra att jobba igenom övningen med Symfony och Doctrine. Något särskilt du tänkte/reagerade på under övningen?
Övningen flöt på bra. Mestadels kollade jag faktiskt i guiden som finns på Symfonys hemsida. Jag har Symfony 6.2 och kan därmed använda deras Entity Value Resolver för att göra många queries automatiskt, vilket gav ännu renare kod enligt mig. Kanske något att ha med i övningen som en extragrej? Om Symfony används nästa gång kursen ges är det kanska alltid så här man gör, eller så har det kommit ytterligare ett nytt sätt.

### Berätta om din applikation och hur du tänkte när du byggde upp den. Tänkte du något speciellt på användargränssnittet?
Jag tog mig tid att jobba lite extra med övningen för att kunna testa mig fram till ett bra användargränssnitt. Fokus var att få formulärdelarna att fungera på ett smidigt sätt med lämpliga redirects efter att man ändrat något eller möjlighet att avbryta en ändring bland annat. Så när det väl var dags för uppgiften hade jag i princip grunden klar. På alla sidor där man kollar på en specifik bok finns det en knapp som leder till sidan med alla böcker för att underlätta navigeringen ytterligare.

Värt att nämna är hur jag löste kravet att kunna återställa databasen. Eftersom jag har produkttabellen från övningen och boktabellen i samma databas bestämde jag mig för att helt enkelt bara återställa boktabellen. Jag gjorde en dump av innehållet och delade upp den koden i tre metoder inuti BookRepository. En för att droppa tabellen, en för att skapa tabellen och en för att lägga in defaultvärdena. För att göra en reset anropar jag metoderna i den ordningen. Vilket påminner om hur vi gjorde en reset i databaskursen genom att köra flera filer. Det blev med andra ord en lösning där SQL används direkt.

### Gick det bra att jobba med ORM i CRUD eller vad anser du om det, jämför gärna med andra sätt att jobba med databaser?
ORM-lagret i Doctrine känns intuitivt att jobba med nu när vi hållit på med klasser och objekt ett tag. Att skapa en ny rad i en tabell är ju lika enkelt som att skapa en ny instans av motsvarande klass och använda setters för att ange dess värden. De andra delarna i CRUD gick också enkelt att jobba med. Det finns färdiga metoder för att både läsa och skriva i databasen och Doctrine är dessutom smart nog att veta när den ska lägga till eller bara uppdatera något som redan finns.

Det känns mycket riktigt som en ”högre nivå” av PHPs PDO som vi använt tidigare. Då skapade vi alla queries själva och byggde ett eget slags gränssnitt med funktioner. Jag gillar visserligen att skriva SQL direkt. Men ser såklart fördelarna med att använda ett lager ovanpå där mycket sker automatiskt. Det man får hjälp med är ju de allra vanligaste typerna av queries och en färdig struktur med ett objektorienterat gränssnitt som är lätt att använda. För den som inte är insatt i databaser och SQL måste det vara speciellt uppskattat.

### Vad är din uppfattning om ORM så här långt och relatera gärna till andra sätt att jobba med applikationskod mot databaser?
Som jag redan varit inne på känns ORM som ytterligare ett steg upp från att använda PHPs PDO, eller från hur vi jobbade med databaser i Javascript för den delen. Utan att säga att det ena nödvändigtvis är bättre än det andra så vill säga att jag gillar rena tanken bakom ORM. Det är lätt att föreställa sig tabeller som objekt vars kolumner är properties och att vi ändrar i tabellen via objektets metoder. Redan här har man en bra grundstruktur att bygga sitt program på, för att inte tala om ett sätt att förstå databaser i allmänhet. Speciellt om man är någon som precis ska börja lära sig hur databaser fungerar och man redan kan objektorienterad programmering.

### Vilken är din TIL för detta kmom?
Det här gångens TIL får bli att använda Doctrine ORM i Symfony. Det har känts som en naturlig fortsättning på databasspåret och som en bra introduktion till hur man kan jobba med databaser i ett större ramverk.
