# Kmom02
### Förklara kort de objektorienterade konstruktionerna arv, komposition, interface och trait och hur de används i PHP.
Gemensamt för de här konstruktionerna är att man organiserar koden i återanvändbara delar. Vad smart! Så låt oss titta närmare på var och en av dessa konstruktioner för sig.
Arv skapar en slags hierarki av föräldraklasser och barnklasser som går ut på att barnen får tillgång till alla publika eller skyddade medlemmar hos sin förälder, eller basklass som det också heter. Man säger att en barnklass ”ärver” men även ”utökar” (eng. extends) en basklass. För ofta vill man att barnet just ska bygga vidare på basklassen. Det kan antingen ske genom att barnet skriver över gamla metoder eller lägger till nya.

Komposition innebär att en klass helt enkelt använder en annan klass. Antingen skapar man en instans av den andra klassen inuti den förra eller så skickar man in den utifrån. På så vis kan den förra klassen utnyttja den andra klassens publika medlemmar. Ett exempel i vårt fall är en handklass som använder flera tärningsobjekt. Handklassen kan utnyttja tärningsklassens roll-metod för att slå om alla tärningar på samma gång.

Guiden sa det bäst: Ett interface är ett slags kontrakt som talar om vilka metoder en klass ska implementera. Det talar visserligen bara om vad metoderna ska heta. Men alla klasser som vill ha ett interface måste implementera dess metoder på något sätt. Flera klasser kan alltså ha samma interface men olika implementation. Fördelen är att man som användare åtminstone vet att metoderna finns. Ett vanligt användningsområde är att kunna byta ut klasser i sin kod mot andra som har samma interface till exempel vid testning. Man skapar ett interface som man gör en klass fast med nyckelordet interface istället för class.

Trait kan man säga är en samling metoder som flera klasser kan återanvända. Det liknar arv fast skapar ingen hierarki. En annan skillnad är att klasser kan använda flera trait medan de bara kan ärva från en annan klass i taget. På så vis liknar det snarare hur vi använder komposition. Vi skapar ett trait ungefär som en vanlig klass fast med nyckelorder trait. Man kan inte instansiera ett trait på egen hand utan det ska enbart ses som ett tilläg i andra klasser. För att använda ett trait inuti en klass skriver vi ”use” följt av traitets namn.

### Berätta om din implementation från uppgiften. Hur löste du uppgiften, är du nöjd/missnöjd, vilken förbättringspotential ser du i din koden och dina klasser?
Jag har valt att implementera de delar som föreslogs i uppgiften, det vill säga klasser för ett kort, ett utökat grafiskt kort, en korthand och en kortlek. Själva strukturen med controller och templates följer i mångt och mycket den från övningen. Utseendet på hemsidan lämnar en del att önska. Det är något jag helt klart skulle vilja förbättra när jag får tid över. Även klasserna hade man såklart kunnat göra annorlunda. Men om det hade varit till det bättre återstår nog att se när det väl blir dags att göra ett spel. I nuläget finns det metoder i klasserna som inte används men som jag tror kan vara användbara längre fram. Korthanden används inte alls.

Mycket sker inuti kortleken. Från början hade jag en tanke om att skicka in kort utifrån ungefär som vi gjorde i övningen med tärningarna. Men eftersom vi vid flera tillfällen vill kunna återställa kortleken, det vill säga fylla den med kort, blev det enklast att skapa en full kortlek varje gång vi skapar en ny instans. Jag hade också en tanke om att kortleken skulle behöva sorteras innan den visades upp. Så jag skapade metoder för det och byggde korten så att det innehöll heltal för både färg och rang. På så vis blev det lätt att sortera korten baserat på någon av dem. Det här var inte nödvändigt då kortleken är sorterad när den skapas. Men det kan bli användbart längre fram som sagt. Om man till exempel skulle vilja sortera kortleken efter att en antal kort delats ut.

### Berätta hur det kändes att modellera ett kortspel med flödesdiagram och psuedokod. Var det något som du tror stödjer dig i din problemlösning och tankearbete för att strukturera koden kring en applikation?
Att använda klassdiagram är bekant sedan innan så det steget gick hyfsat smidigt. Att rita upp saker och ting på det här sättet kan helt klart vara en god utgångspunkt när man sedan ska börja koda. Ofta ritar och kodar jag samtidigt för att testa mig fram till olika lösningar. Speciellt när det man ska göra är nytt, som i vårt fall.

### Vilken är din TIL för detta kmom?
Det här gångens till får bli att använda formulär och sessionen i Symfony. Formulär och sessioner är inte helt nya saker såklart men nog blev det lite annorlunda när vi skulle få till det den här gången.